(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{21:function(e,t,n){e.exports=n(35)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),u=n.n(c),l=n(2),o=n(19),s=n(20),i=n(3),f=n(15),m=n(17),E=n(6),p=n.n(E),d=n(11),b=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-api.herokuapp.com/"+t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("todos/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("users/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return e.loading},j=function(e){return{type:"SET_LOADING",value:e}},h=function(e){return{type:"SET_USER",value:e}},S=function(e){return{type:"SET_USER_SELECTED",value:e}},T=function(e){return e.isUserSelected},y=function(e){return e.todos},U=function(e){return e.userId},N=function(e){return e.user},w=function(e){return e.searchQuery},R=function(e){return e.filterStatus},g={todos:[],user:null,userId:0,isUserSelected:!1,isUserError:!1,searchQuery:"",filterStatus:"",loading:!1},k=Object(f.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:Object(s.a)(t.value)});case"SET_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:t.value});case"SET_USERID":return Object(i.a)(Object(i.a)({},e),{},{userId:t.value});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.value});case"SET_USER_SELECTED":return Object(i.a)(Object(i.a)({},e),{},{isUserSelected:t.value});case"SET_USER_ERROR":return Object(i.a)(Object(i.a)({},e),{},{isUserError:t.value});case"SET_INPUT_QUERY":return Object(i.a)(Object(i.a)({},e),{},{searchQuery:t.value});case"SET_FILTER_STATUS":return Object(i.a)(Object(i.a)({},e),{},{filterStatus:t.value});default:return e}}),Object(f.a)(m.a)),C=(n(30),{All:"All",Active:"Active",Completed:"Completed"}),L=function(){var e=Object.keys(C),t=Object(l.b)(),n=Object(l.c)(w),r=Object(l.c)(R);return a.a.createElement("form",null,a.a.createElement("input",{type:"text",name:"filterTitle",value:n,placeholder:"filter todos",onChange:function(e){t(function(e){return{type:"SET_INPUT_QUERY",value:e}}(e.target.value))}}),a.a.createElement("select",{name:"filterStatus",value:r,onChange:function(e){t(function(e){return{type:"SET_FILTER_STATUS",value:e}}(e.target.value))}},e.map((function(e){return a.a.createElement("option",{key:e},C[e])}))))},I=n(18),A=n.n(I),x=(n(31),function(){var e=Object(l.c)(y),t=Object(l.b)(),n=Object(l.c)(w),c=Object(l.c)(R),u=Object(l.c)(v),o=function(e){return null!==e.title?e.title.toLowerCase().includes(n.toLowerCase()):null},s=function(e){switch(c){case C.Completed:return e.completed;case C.Active:return!e.completed;default:return!0}},i=Object(r.useMemo)((function(){return n.length?e.filter(o):e}),[e,n]),f=Object(r.useMemo)((function(){return i.filter(s)}),[i,c]);return a.a.createElement("div",{className:"TodoList"},a.a.createElement("h3",null,"Todos:"),u?a.a.createElement("p",{className:"info"},"Loading..."):a.a.createElement("div",{className:"TodoList__list-container"},a.a.createElement(L,null),a.a.createElement("ul",{className:"TodoList__list"},f.map((function(e){return a.a.createElement("li",{key:e.id,className:A()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed})},a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",readOnly:!0,checked:e.completed}),a.a.createElement("p",null,e.title)),a.a.createElement("button",{type:"button",onClick:function(){t({type:"SET_USERID",value:e.userId}),t(S(!0))}},"User\xa0",e.userId))})))))}),D=(n(32),function(){var e=Object(l.b)(),t=Object(l.c)(N),n=Object(l.c)(U),c=function(){return e((t=n,function(e){O(t).then((function(t){e(h(t.data))})).catch((function(t){console.warn("Failed loading user data.",t.message),e(function(e){return{type:"SET_USER_ERROR",value:e}}(!0))}))}));var t};Object(r.useEffect)((function(){n&&n>0&&c()}),[n]);return t?a.a.createElement("div",{className:"CurrentUser"},a.a.createElement("h2",{className:"CurrentUser__title"},a.a.createElement("span",null,"Selected user with ID ".concat(n))),a.a.createElement("h3",{className:"CurrentUser__name"},t.name),a.a.createElement("p",{className:"CurrentUser__email"},t.email),a.a.createElement("p",{className:"CurrentUser__phone"},t.phone),a.a.createElement("button",{type:"button",className:"button",onClick:function(){e(h(null)),e(S(!1))}},"Clear user")):a.a.createElement("p",{className:"warning pl-30"},"Loading user data has failed.")}),Q=function(){var e=Object(l.b)(),t=Object(l.c)(T),n=function(){return e(j(!0)),e((function(e){_().then((function(t){e(function(e){return{type:"GET_TODOS",value:e}}(t.data))})).catch((function(e){console.warn(e.message)})).finally((function(){e(j(!1))}))}))};return Object(r.useEffect)((function(){n()}),[]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__sidebar"},a.a.createElement(x,null)),a.a.createElement("div",{className:"App__content"},a.a.createElement("div",{className:"App__content-container"},t?a.a.createElement(D,null):"No user selected")))},G=function(){return a.a.createElement(l.a,{store:k},a.a.createElement(o.a,null,a.a.createElement(Q,null)))};u.a.render(a.a.createElement(G,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b171d8df.chunk.js.map